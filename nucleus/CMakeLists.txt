CMAKE_MINIMUM_REQUIRED(VERSION 3.1.0)

PROJECT(nucleus-package VERSION 0.0.1)

OPTION(NU_BUILD_VULKAN "Build nucleus-vulkan" ON)
OPTION(NU_DEBUG "Debug" ON)
OPTION(NU_DEBUG_MEMORY "Debug memory" ON)

# Add compile definitions
IF (NU_DEBUG)
    ADD_COMPILE_DEFINITIONS(NU_DEBUG)
ENDIF()
IF (NU_DEBUG_MEMORY)
    ADD_COMPILE_DEFINITIONS(NU_DEBUG_MEMORY)
ENDIF()
IF (NU_BUILD_VULKAN)
    ADD_COMPILE_DEFINITIONS(NU_BUILD_VULKAN)
ENDIF()

# Add subdirectories
ADD_SUBDIRECTORY(core)
ADD_SUBDIRECTORY(system/task)
ADD_SUBDIRECTORY(system/glfw)
ADD_SUBDIRECTORY(system/softrast)
ADD_SUBDIRECTORY(system/opengl)
IF (NU_BUILD_VULKAN)
    ADD_SUBDIRECTORY(system/vulkan)
ENDIF()
ADD_SUBDIRECTORY(plugin/utils)